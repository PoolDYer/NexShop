# Script PowerShell para ejecutar NexShop con correcciones
# Uso: .\ejecutar-nexshop-corregido.ps1

Write-Host ""
Write-Host "????????????????????????????????????????????????????????????" -ForegroundColor Cyan
Write-Host "?          NEXSHOP - TODAS LAS CORRECCIONES APLICADAS      ?" -ForegroundColor Cyan
Write-Host "????????????????????????????????????????????????????????????" -ForegroundColor Cyan
Write-Host ""

$projectPath = "E:\Proyectos Visual\NexShop\NexShop.Web"

# Verificar que existe el proyecto
if (-not (Test-Path $projectPath)) {
    Write-Host "? No se encontró el proyecto en: $projectPath" -ForegroundColor Red
    exit
}

Set-Location $projectPath

Write-Host "?? Directorio: $projectPath" -ForegroundColor Green
Write-Host ""

Write-Host "? Correcciones aplicadas:" -ForegroundColor Yellow
Write-Host "   • Login redirige correctamente a Home" -ForegroundColor Cyan
Write-Host "   • Usuario logueado se muestra en navbar (botón verde)" -ForegroundColor Cyan
Write-Host "   • Carrito muestra contenido después de login" -ForegroundColor Cyan
Write-Host "   • Categorías funciona correctamente (Admin)" -ForegroundColor Cyan
Write-Host ""

Write-Host "?? Accesos principales:" -ForegroundColor Yellow
Write-Host "   ?? Home:       http://localhost:5217" -ForegroundColor Cyan
Write-Host "   ?? Login:      http://localhost:5217/Identity/Account/Login" -ForegroundColor Cyan
Write-Host "   ?? Carrito:    http://localhost:5217/Carrito" -ForegroundColor Cyan
Write-Host "   ?? Categorías: http://localhost:5217/Categorias" -ForegroundColor Cyan
Write-Host ""

Write-Host "?? Credenciales de prueba:" -ForegroundColor Yellow
Write-Host "   Admin: admin@nexshop.com / Admin@123456" -ForegroundColor Cyan
Write-Host "   Vendedor: vendedor@nexshop.com / Vendedor@123456" -ForegroundColor Cyan
Write-Host "   Comprador: comprador@nexshop.com / Comprador@123456" -ForegroundColor Cyan
Write-Host ""

Write-Host "??  Nota: Presiona Ctrl+C para detener la aplicación" -ForegroundColor Yellow
Write-Host ""

# Ejecutar la aplicación
Write-Host "?? Iniciando aplicación..." -ForegroundColor Green
Write-Host ""
Write-Host "????????????????????????????????????????????????????????????" -ForegroundColor Cyan

dotnet run --no-build

Write-Host ""
Write-Host "????????????????????????????????????????????????????????????" -ForegroundColor Cyan
Write-Host ""
Write-Host "??  Aplicación detenida" -ForegroundColor Yellow

# Script para reorganizar carpetas sincronizándolas con los productos reales

$basePath = "E:\Proyectos Visual\NexShop\NexShop.Web\wwwroot\uploads\productos"

Write-Host "??????????????????????????????????????????????????????????????????" -ForegroundColor Cyan
Write-Host "?  SINCRONIZAR CARPETAS CON PRODUCTOS REALES DE LA TIENDA       ?" -ForegroundColor Cyan
Write-Host "??????????????????????????????????????????????????????????????????" -ForegroundColor Cyan
Write-Host ""

# Información: Los productos conocidos son:
# - ID 49: "Mindfulness para Principiantes"

$productosReales = @(
    @{id=49; nombre="Mindfulness para Principiantes"}
)

Write-Host "??  IMPORTANTE:" -ForegroundColor Yellow
Write-Host "Se requiere que ejecutes la aplicación primero:" -ForegroundColor Yellow
Write-Host "  cd 'E:\Proyectos Visual\NexShop\NexShop.Web'" -ForegroundColor Yellow
Write-Host "  dotnet run" -ForegroundColor Yellow
Write-Host ""
Write-Host "Luego, accede a:" -ForegroundColor Yellow
Write-Host "  http://localhost:5217/api/productos/todos" -ForegroundColor Yellow
Write-Host ""
Write-Host "Y verifica qué productos hay." -ForegroundColor Yellow
Write-Host ""

# Obtener carpetas actuales
$carpetasActuales = Get-ChildItem -Path $basePath -Directory | Select-Object -ExpandProperty Name | Sort-Object

Write-Host "?? CARPETAS ACTUALES: $($carpetasActuales.Count)" -ForegroundColor Yellow

Write-Host ""
Write-Host "Primeras 20 carpetas actuales:" -ForegroundColor Cyan
$carpetasActuales | Select-Object -First 20 | ForEach-Object {
    Write-Host "  • $_"
}

if ($carpetasActuales.Count -gt 20) {
    Write-Host "  ... y $($carpetasActuales.Count - 20) más"
}

Write-Host ""
Write-Host "???????????????????????????????????????????????????????????????" -ForegroundColor Green
Write-Host "Carpetas conocidas que SÍ son productos reales:" -ForegroundColor Green
Write-Host "  • 49_Mindfulness para Principiantes" -ForegroundColor Green
Write-Host ""
Write-Host "Todas las demás carpetas se recomienda ELIMINAR por no ser productos reales" -ForegroundColor Red
Write-Host "???????????????????????????????????????????????????????????????" -ForegroundColor Green
